<!-- Grid Layout-->
<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-8 mx-4 sm:mx-0">
    
    {% for recipe in recipes %}
    
        <!-- Recipe Card -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="relative">
                <div class="pb-[100%]"></div>
                <img src="https://placehold.co/400x300" alt="Recipe" class="absolute inset-0 w-full h-full object-cover">
                <button class="toggle-my-recipes-button absolute top-2 right-2 p-2 rounded-full shadow-sm" 
                    :class="saved ? 'toggle-my-recipes-button--saved' : 'toggle-my-recipes-button--unsaved'"
                    hx-post="{% url 'action_toggle_my_recipes' recipe.id %}"
                    hx-trigger="click"
                    hx-swap="none"
                    x-data="{ saved: {{ recipe.is_saved|yesno:'true,false' }} }"
                    @htmx:after-request="saved = JSON.parse(event.detail.xhr.response).saved">
                        {% include "planner/svg/bookmark.svg" %}
                </button>
            </div>
            <div class="p-4 h-[120px]">
                <a href="{% url 'recipe_detail' recipe.id %}">
                    <h3 class="text-md font-semibold text-gray-900 line-clamp-2">{{ recipe.dish_name }}</h3>
                </a>
                <button class="text-sm text-gray-600 mt-3">+ Add to meal plan</button>
            </div>
        </div>
        
    {% endfor %}

</div>
